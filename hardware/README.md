## 整体设计

![](integrate_archetecture.png)

其它说明：树莓派U口接摄像头。

## 模块说明

#### 语音识别模块

<img src="modules/asr-pro.jpg" />

使用语音识别模块进行语音识别，转换成控制小车的指令。控制命令说明：

| 命令关键字     | 功能                         | 命令ID |    指示灯|
| ------------ | --------------------------- | ------ | ------  |
| 停/别走了     | 小车停止                      |  0     |         |
| 前进/走       | 小车前进                      | 1     |         |
| 后退         | 小车后退                      |  2     |         |
| 往左走       | 小车向左横向走                  | 3     |         |
| 往右走       | 小车向右横向走                  | 4     |         |
| 往左前走     | 小车向左前方向斜着走             | 5     |         |
| 往右前走     | 小车向右前方向斜着走             | 6     |         |
| 往左后走     | 小车向左后方向斜着走             | 7     |         |
| 往右后走     | 小车向右后方向斜着走             | 8     |         |
| 左转        | 小车向左转                     | 9     |         |
| 右转        | 小车向右转                     | A     |         |
| 回来        | 小车向前一方向相反的方向行驶      | B     |         |
| 调头        | 小车调头                       | C     |         |

#### 控制中心-STM32单板

<img src="modules/stm32f103.jpg" style="zoom:70%;" />

STM32单板作为中心控制单元，接收语音命令，转换成电机驱动指令下发到电机驱动。
同时对接树莓派，树莓派进行图像识别后传回控制指令到STM32， STM32根据指令驱动机械臂舵机。


#### 小车底盘
小车底盘是拼多多淘的底盘+JGB37 520电机+万向轮组装。拼多多也有成套的，成套的更贵一点。

<img src="modules/board.jpg" style="zoom:60%;" />
<img src="modules/motor.jpg" style="zoom:60%;" />
<img src="modules/wheel.jpg" style="zoom:60%;" />

#### 电机驱动模块
<img src="modules/l298n.jpg" style="zoom:60%;" />

使用L298N电机驱动，控制小车四个电机，四驱控制。

12V输入电压，5V输出电压为控制单板等其他模块供电。

#### 机械臂

机械臂从拼多多购买散件拼装，带6个180度舵机。

<img src="modules/robotic-arm.jpg" />

#### 舵机驱动pca9685
<img src="modules/servo-driver.jpg" />
16路舵机驱动

#### 树莓派
<img src="modules/raspberry.jpg" />
树莓派4B+摄像头进行图像识别处理。